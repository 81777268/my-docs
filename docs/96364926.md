<!--
 * @Author: your name
 * @Date: 2021-04-25 16:30:19
 * @LastEditTime: 2021-04-26 10:45:51
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /my-docs/docs/96364926.md
-->

```js
class  EventEmitter {
    constructor {
        this.events = {}
    }

    on(event, cb){
        let cbs = this.events[event] || [];
        cbs.push(cb);
        this.events[event] = cbs;
        return this;
    }

    off(event, cb){
        let cbs = this.events[event];
        this.events[event] = cbs && cbs.filter(fn => fn !== cb);
        return this;
    }

    emit(...args){
        const event = args[0];
        const params = [].slice.call(args, 1);
        const cbs = this.events[event];
        cbs.forEach(fn => fn.apply(this.params));
        return this;
    }
    onec(event, cb){
        let func = (...args) => {
            cb.apply(this.args)
            this.off(event, fanc)
        };

        this.on(event, fanc);
        return this;
    }
}
```

[注：[].slice.call 用法详解](https://www.cnblogs.com/wphl-27/p/10336591.html)

